<html>
<head>
<script>window.onerror = function(m,u,l,c) { if (window.XMLHttpRequest) { var xhr = new XMLHttpRequest(); var msg = "msg="+encodeURIComponent(m)+"&url="+encodeURIComponent(u)+"&line="+l+"&col="+c+"&href="+encodeURIComponent(window.location.href); xhr.open("GET", "/logger.php?"+msg, true); xhr.setRequestHeader("Content-Type", "text/plain;charset=UTF-8"); xhr.send(); } }; </script>
</head>
<body>

<h1>Example: window.onerror handler</h1>
Loading this page in a browser will:
<ol>trigger a javascript exception
<ol>which is handled by a window.onerror handler
<ol>which reports back to server side /logger.php
<ol>which adds the exception to /var/log/window.onerror/all.log

<script>
alrt("foo");
</script>
</body>
</html>
